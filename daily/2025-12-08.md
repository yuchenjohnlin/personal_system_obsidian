

### TO DO
- Refactor the database.py and main.py 
	- They had all of the models and schemas defined in the same file 
- Review the structure of database and api 
### Thoughts

I had to define the user schema in the database, but it was still written in a single file so I had to refactor. It was good because I also had to review the backend code, and update the notes for the implementation.

Previously, we only had a `database.py` that does the following. 
1. Create pipe between python and database
	1. Database Engine
	2. point to SQLite
	3. enable foreign keys for SQLite 
	4. ensure the database file exists
2. Model import + Table Creation
	1. Load SQLAlchemy models
	2. Read Columns
	3. create corresponding tables in SQLite
3. Use SessionLocal to create sessions - used in main
	1. session : temporary database connection
	2. used for 1 API request
	3. automatically opened and closed
	- Every FastAPI endpoint will get a session like `db = SessionLocal()`

### Why are databases called engines 
In SQLAlchemy (and many database libraries), an **engine** is called an engine because it is the **core machinery that drives all communication between your Python code and your database**.
It doesn’t mean the _database itself_ — it means the _interface layer_ that:
- opens connections
- manages connection pools
- talks to the DB via drivers
- sends SQL queries
- fetches results
Think of it as the **motor** that powers all DB operations.
And it is called engine because MySQL has something called storage engines hence the word.
`engine = create_engine("sqlite:///db/expense.sqlite")` the engine doesn't open the database immediately, it just creates a factory for making DB connections.
```
DATABASE = the actual data
ENGINE = how you talk to the DB
SESSION = the active connection to the DB
MODEL = your Python table representation
```

### Review current backend structure
You would see models and schema folders. I thought schema was only used for databases but not actually, it can be applied in both the SQL world and the API world (Pydantic).
A schema can represent the idea of "a structured description of the shape of data".
So there are several things you have to define in the backend. 
1. How the database stores the data. 
2. How do you want to expose the API to the frontend. 